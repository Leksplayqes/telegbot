<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ú–∞–≥–∞–∑–∏–Ω</title>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    :root{
      --bg: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --card: #ffffff;
      --border: #e5e7eb;
      --shadow: 0 10px 25px rgba(2,6,23,.06);
      --accent: #ef4444;  /* –∫—Ä–∞—Å–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç */
      --tab: #0f172a;
      --tabMuted: #94a3b8;
      --tabBg: rgba(255,255,255,.92);
      --radius: 16px;
      --max: 520px;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
    }

    /* Layout */
    .app{
      max-width: var(--max);
      margin: 0 auto;
      min-height: 100vh;
      padding-bottom: 86px; /* –º–µ—Å—Ç–æ –ø–æ–¥ –Ω–∏–∂–Ω–µ–µ –º–µ–Ω—é */
    }

    .topbar{
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .topbar-inner{
      padding: 14px 16px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 0;
    }
    .logo{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #fb7185);
      box-shadow: var(--shadow);
      flex: 0 0 auto;
    }
    .brand-title{
      font-weight: 800;
      letter-spacing: .2px;
      line-height: 1.1;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .brand-sub{
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border:1px solid var(--border);
      border-radius: 999px;
      background: #fff;
      font-size: 12px;
      color: var(--muted);
      flex: 0 0 auto;
    }
    .dot{
      width:8px;height:8px;border-radius:999px;background:#22c55e;
      box-shadow: 0 0 0 4px rgba(34,197,94,.12);
    }

    .content{
      padding: 14px 16px 20px;
    }

    .hero{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: radial-gradient(1200px 380px at 30% -40%, rgba(239,68,68,.20), transparent 60%),
                  radial-gradient(1200px 380px at 80% -60%, rgba(59,130,246,.14), transparent 60%),
                  #fff;
      padding: 16px;
      box-shadow: var(--shadow);
    }
    .hero h1{
      margin:0 0 8px;
      font-size: 20px;
      letter-spacing: .2px;
    }
    .hero p{
      margin:0;
      color: var(--muted);
      line-height: 1.45;
      font-size: 14px;
    }

    .grid{
      margin-top: 12px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      padding: 14px;
      box-shadow: var(--shadow);
    }

    .card h2{
      margin:0 0 8px;
      font-size: 16px;
    }
    .card .muted{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
    }

    .list{
      margin: 10px 0 0;
      padding: 0 0 0 18px;
      color: var(--text);
      font-size: 13px;
      line-height: 1.55;
    }
    .list li{ margin: 6px 0; color: var(--muted); }
    .list li b{ color: var(--text); font-weight: 700; }

    .btnrow{
      display:flex;
      gap:10px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    .btn{
      border: 1px solid var(--border);
      background: #fff;
      padding: 12px 14px;
      border-radius: 14px;
      font-weight: 700;
      cursor: pointer;
      font-size: 14px;
      flex: 1 1 auto;
      min-width: 140px;
    }
    .btn-primary{
      background: var(--accent);
      border-color: var(--accent);
      color:#fff;
    }
    .btn:active{ transform: translateY(1px); }

    /* Sections */
    section{ display:none; }
    section.active{ display:block; }

    /* Bottom tabs */
    .tabs{
      position: fixed;
      left: 0; right: 0; bottom: 0;
      display:flex;
      justify-content:center;
      z-index: 30;
      pointer-events: none; /* —á—Ç–æ–±—ã —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å */
    }
    .tabs-inner{
      pointer-events: auto;
      width: min(var(--max), 100%);
      background: var(--tabBg);
      backdrop-filter: blur(12px);
      border-top: 1px solid var(--border);
      padding: 8px 10px 10px;
      display:flex;
      gap: 6px;
      justify-content: space-between;
    }
    .tab{
      flex:1;
      border:0;
      background: transparent;
      padding: 8px 6px;
      border-radius: 14px;
      cursor: pointer;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap: 6px;
      color: var(--tabMuted);
      font-size: 11px;
      font-weight: 700;
    }
    .tab svg{ width:22px; height:22px; }
    .tab.active{
      color: var(--tab);
      background: rgba(15,23,42,.06);
    }
    .tab .badge{
      position: absolute;
      transform: translate(10px,-8px);
      background: var(--accent);
      color: #fff;
      border-radius: 999px;
      padding: 2px 6px;
      font-size: 10px;
      font-weight: 800;
      border: 2px solid #fff;
    }
    .iconWrap{
      position: relative;
      line-height: 0;
    }

    /* Small helpers */
    .divider{ height:1px;background:var(--border);margin:12px 0; }
    .kv{ display:grid; grid-template-columns: 120px 1fr; gap: 8px; margin-top:10px; font-size:13px; }
    .kv div:nth-child(odd){ color: var(--muted); }
    .kv div:nth-child(even){ color: var(--text); font-weight: 600; }

    /* Product mock */
    .product{
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .ph{
      width:72px;height:72px;border-radius:16px;
      background: linear-gradient(135deg, rgba(239,68,68,.22), rgba(59,130,246,.18));
      border: 1px solid var(--border);
      flex: 0 0 auto;
    }
    .pname{ font-weight: 800; }
    .pdesc{ color: var(--muted); font-size: 13px; line-height: 1.35; margin-top: 4px;}
    .price{ margin-top: 10px; font-weight: 900; font-size: 16px; }
    .small{ font-size: 12px; color: var(--muted); margin-top: 8px; }

    a{ color: inherit; }
  </style>
</head>

<body>
  <div class="app">
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo"></div>
          <div style="min-width:0">
            <div class="brand-title" id="brandTitle">–í–∞—à –±—Ä–µ–Ω–¥</div>
            <div class="brand-sub" id="brandSub">–ú–∞–≥–∞–∑–∏–Ω –≤ Telegram</div>
          </div>
        </div>
        <div class="chip" title="–°—Ç–∞—Ç—É—Å">
          <span class="dot"></span>
          <span id="userChip">–û–Ω–ª–∞–π–Ω</span>
        </div>
      </div>
    </header>

    <main class="content">
      <!-- –ì–ª–∞–≤–Ω–∞—è -->
      <section id="home" class="active">
        <div class="hero">
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã</h1>
          <p>–≠—Ç–æ –º–∏–Ω–∏-—Å–∞–π—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥, –æ–ø–ª–∞—Ç—É –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏.</p>
        </div>

        <div class="grid">
          <div class="card">
            <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
            <div class="btnrow">
              <button class="btn btn-primary" data-go="shop">–ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω</button>
              <button class="btn" data-go="about">–û –Ω–∞—Å</button>
            </div>
            <div class="small" id="tgHint"></div>
          </div>

          <div class="card">
            <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <div class="kv">
              <div>Telegram</div><div><a id="tgLink" href="https://t.me/your_support" target="_blank" rel="noreferrer">@your_support</a></div>
              <div>–¢–µ–ª–µ—Ñ–æ–Ω</div><div id="phone">+7 (___) ___-__-__</div>
              <div>–ì–æ—Ä–æ–¥</div><div id="city">–í–∞—à –≥–æ—Ä–æ–¥</div>
            </div>
          </div>
        </div>
      </section>

      <!-- –ú–∞–≥–∞–∑–∏–Ω -->
      <section id="shop">
        <div class="card">
          <h2>–ú–∞–≥–∞–∑–∏–Ω</h2>
          <div class="muted">–ü—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞. –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ –∫–∞—Ç–∞–ª–æ–≥–∞.</div>
          <div class="divider"></div>

          <div class="product">
            <div class="ph"></div>
            <div>
              <div class="pname" id="productName">–û–¥–∏–Ω —Ç–æ–≤–∞—Ä</div>
              <div class="pdesc" id="productDesc">–ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (—á—Ç–æ –≤—Ö–æ–¥–∏—Ç, —Å—Ä–æ–∫–∏, —É—Å–ª–æ–≤–∏—è).</div>
              <div class="price" id="productPrice">990 ‚ÇΩ</div>
              <div class="btnrow">
                <button class="btn btn-primary" id="buyBtn">–ö—É–ø–∏—Ç—å</button>
                <button class="btn" id="addFavBtn">–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
              </div>
              <div class="small">–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è ¬´–ö—É–ø–∏—Ç—å¬ª –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Å—ã–ª–∫—É –∏–ª–∏ Telegram –æ–ø–ª–∞—Ç—É.</div>
            </div>
          </div>
        </div>
      </section>

      <!-- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ -->
      <section id="fav">
        <div class="card">
          <h2>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
          <div class="muted" id="favText">–ü–æ–∫–∞ –ø—É—Å—Ç–æ. –î–æ–±–∞–≤—å —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª.</div>
        </div>
      </section>

      <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
      <section id="cart">
        <div class="card">
          <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
          <div class="muted" id="cartText">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞. –ù–∞–∂–º–∏ ¬´–ö—É–ø–∏—Ç—å¬ª –≤ –º–∞–≥–∞–∑–∏–Ω–µ, –∏–ª–∏ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É.</div>
          <div class="btnrow" style="margin-top:12px">
            <button class="btn btn-primary" id="checkoutBtn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ</button>
            <button class="btn" id="clearCartBtn">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
          <div class="small" id="cartSum"></div>
        </div>
      </section>

      <!-- –ê–∫–∫–∞—É–Ω—Ç -->
      <section id="account">
        <div class="card">
          <h2>–ê–∫–∫–∞—É–Ω—Ç</h2>
          <div class="muted" id="accountText">–û—Ç–∫—Ä–æ–π –≤–Ω—É—Ç—Ä–∏ Telegram ‚Äî –ø–æ–∫–∞–∂—É —Ç–≤–æ—ë –∏–º—è/username.</div>
        </div>
      </section>

      <!-- –û –Ω–∞—Å -->
      <section id="about">
        <div class="card">
          <h2>–û –Ω–∞—Å</h2>
          <div class="muted">
            –ó–¥–µ—Å—å —Ç–µ–∫—Å—Ç ‚Äú–∫–∞–∫ –≤ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–µ‚Äù: –∫—Ç–æ –≤—ã, —á–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å, —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã.
          </div>
          <ul class="list" id="aboutList">
            <li><b>–†–∞–±–æ—Ç–∞–µ–º</b> –±—ã—Å—Ç—Ä–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ.</li>
            <li><b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b> –≤ Telegram.</li>
            <li><b>–û–ø–ª–∞—Ç–∞</b> –æ–Ω–ª–∞–π–Ω.</li>
          </ul>

          <div class="divider"></div>

          <h2 style="margin-top:0">–†–µ–∫–≤–∏–∑–∏—Ç—ã / –∫–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <div class="kv">
            <div>Telegram</div><div><a href="https://t.me/your_support" target="_blank" rel="noreferrer">@your_support</a></div>
            <div>–¢–µ–ª–µ—Ñ–æ–Ω</div><div>+7 (___) ___-__-__</div>
            <div>Email</div><div>mail@example.com</div>
          </div>

          <div class="btnrow" style="margin-top:12px">
            <button class="btn btn-primary" id="toSupportBtn">–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
            <button class="btn" id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Bottom tabs -->
  <div class="tabs">
    <nav class="tabs-inner" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
      <button class="tab active" data-tab="home">
        <span class="iconWrap">
          <svg viewBox="0 0 24 24" fill="none"><path d="M4 10.5 12 4l8 6.5V20a1 1 0 0 1-1 1h-5v-6H10v6H5a1 1 0 0 1-1-1v-9.5Z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/></svg>
        </span>
        –ì–ª–∞–≤–Ω–∞—è
      </button>

      <button class="tab" data-tab="shop">
        <span class="iconWrap">
          <svg viewBox="0 0 24 24" fill="none"><path d="M6 7h15l-1.5 9.5a2 2 0 0 1-2 1.5H9a2 2 0 0 1-2-1.6L5 4H2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </span>
        –ú–∞–≥–∞–∑–∏–Ω
      </button>

      <button class="tab" data-tab="fav">
        <span class="iconWrap">
          <svg viewBox="0 0 24 24" fill="none"><path d="M12 21s-7-4.6-9.5-8.8C.7 8.6 3 5.5 6.6 5.5c1.8 0 3.1.9 3.9 1.9.8-1 2.1-1.9 3.9-1.9C18 5.5 20.3 8.6 21.5 12.2 19 16.4 12 21 12 21Z" stroke="currentColor" stroke-width="1.8" stroke-linejoin="round"/></svg>
        </span>
        –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
      </button>

      <button class="tab" data-tab="cart">
        <span class="iconWrap">
          <span class="badge" id="cartBadge" style="display:none">1</span>
          <svg viewBox="0 0 24 24" fill="none"><path d="M7 7h14l-1.2 8.2a2 2 0 0 1-2 1.8H9a2 2 0 0 1-2-1.7L5 3H2" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><path d="M9.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM17.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" fill="currentColor"/></svg>
        </span>
        –ö–æ—Ä–∑–∏–Ω–∞
      </button>

      <button class="tab" data-tab="account">
        <span class="iconWrap">
          <svg viewBox="0 0 24 24" fill="none"><path d="M20 21a8 8 0 1 0-16 0" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/><path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z" stroke="currentColor" stroke-width="1.8"/></svg>
        </span>
        –ê–∫–∫–∞—É–Ω—Ç
      </button>
    </nav>
  </div>

  <script>
    // --- Telegram init ---
    const tg = window.Telegram?.WebApp;
    const tgHint = document.getElementById("tgHint");
    const userChip = document.getElementById("userChip");
    const accountText = document.getElementById("accountText");

    if (tg) {
      tg.ready();
      tg.expand();
      tgHint.textContent = "–û—Ç–∫—Ä—ã—Ç–æ –≤ Telegram Web App ‚úÖ";

      const u = tg.initDataUnsafe?.user;
      if (u) {
        userChip.textContent = u.first_name + (u.username ? " @" + u.username : "");
        accountText.innerHTML = `
          –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ <b>${escapeHtml(u.first_name)}</b>
          ${u.username ? `(@${escapeHtml(u.username)})` : ""}
          <div style="margin-top:8px" class="muted">Telegram ID: ${u.id}</div>
        `;
      } else {
        userChip.textContent = "Telegram";
        accountText.textContent = "–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã (–æ—Ç–∫—Ä–æ–π –≤ Telegram).";
      }
    } else {
      tgHint.textContent = "–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É –≤–Ω—É—Ç—Ä–∏ Telegram, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ Mini App.";
      userChip.textContent = "–ë—Ä–∞—É–∑–µ—Ä";
    }

    // --- Simple state ---
    const state = {
      fav: JSON.parse(localStorage.getItem("fav") || "false"),
      cart: JSON.parse(localStorage.getItem("cart") || "false"),
      price: 990
    };

    const cartBadge = document.getElementById("cartBadge");
    const favText = document.getElementById("favText");
    const cartText = document.getElementById("cartText");
    const cartSum = document.getElementById("cartSum");

    function syncUI() {
      favText.textContent = state.fav
        ? "–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ‚úÖ"
        : "–ü–æ–∫–∞ –ø—É—Å—Ç–æ. –î–æ–±–∞–≤—å —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ú–∞–≥–∞–∑–∏–Ω¬ª.";
      cartText.textContent = state.cart
        ? "–í –∫–æ—Ä–∑–∏–Ω–µ 1 —Ç–æ–≤–∞—Ä ‚úÖ"
        : "–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞. –ù–∞–∂–º–∏ ¬´–ö—É–ø–∏—Ç—å¬ª –≤ –º–∞–≥–∞–∑–∏–Ω–µ, –∏–ª–∏ –º—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É.";
      cartSum.textContent = state.cart ? `–°—É–º–º–∞: ${state.price} ‚ÇΩ` : "";
      cartBadge.style.display = state.cart ? "inline-block" : "none";
    }
    syncUI();

    // --- Tabs ---
    const tabs = document.querySelectorAll(".tab");
    const sections = document.querySelectorAll("main section");

    function go(tabId) {
      sections.forEach(s => s.classList.toggle("active", s.id === tabId));
      tabs.forEach(t => t.classList.toggle("active", t.dataset.tab === tabId));
      // –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–≤–µ—Ä—Ö –¥–ª—è –æ—â—É—â–µ–Ω–∏—è "—Å—Ç—Ä–∞–Ω–∏—Ü—ã"
      window.scrollTo({ top: 0, behavior: "instant" });
    }

    tabs.forEach(btn => btn.addEventListener("click", () => go(btn.dataset.tab)));
    document.querySelectorAll("[data-go]").forEach(b => b.addEventListener("click", () => go(b.dataset.go)));

    // --- Buttons ---
    document.getElementById("addFavBtn").addEventListener("click", () => {
      state.fav = !state.fav;
      localStorage.setItem("fav", JSON.stringify(state.fav));
      syncUI();
      if (tg) tg.HapticFeedback?.impactOccurred("light");
      go("fav");
    });

    // –ö—É–ø–∏—Ç—å: –ø–æ–ª–æ–∂–∏–º –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–º –æ–ø–ª–∞—Ç—É (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å—Ä–∞–∑—É –æ–ø–ª–∞—Ç—É)
    document.getElementById("buyBtn").addEventListener("click", () => {
      state.cart = true;
      localStorage.setItem("cart", JSON.stringify(state.cart));
      syncUI();
      if (tg) tg.HapticFeedback?.impactOccurred("medium");
      go("cart");
    });

    // –û–ø–ª–∞—Ç–∞: —Å–µ–π—á–∞—Å –∑–∞–≥–ª—É—à–∫–∞ —Å—Å—ã–ª–∫–æ–π. –ó–∞–º–µ–Ω–∏—à—å payUrl –Ω–∞ —Å–≤–æ—é –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Å—ã–ª–∫—É.
    document.getElementById("checkoutBtn").addEventListener("click", () => {
      if (!state.cart) return;

      const payUrl = "https://example.com/pay"; // <-- –≤—Å—Ç–∞–≤—å —Å—Å—ã–ª–∫—É –æ–ø–ª–∞—Ç—ã (–ÆKassa/CloudPayments/Stripe –∏ —Ç.–ø.)
      if (tg) tg.openLink(payUrl);
      else window.location.href = payUrl;
    });

    document.getElementById("clearCartBtn").addEventListener("click", () => {
      state.cart = false;
      localStorage.setItem("cart", JSON.stringify(state.cart));
      syncUI();
      if (tg) tg.HapticFeedback?.impactOccurred("light");
    });

    document.getElementById("toSupportBtn").addEventListener("click", () => {
      const support = "https://t.me/your_support"; // <-- –≤—Å—Ç–∞–≤—å —Å–≤–æ–π @
      if (tg) tg.openTelegramLink(support);
      else window.location.href = support;
    });

    document.getElementById("closeBtn").addEventListener("click", () => {
      if (tg) tg.close();
      else window.close();
    });

    // --- Helpers ---
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, s => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[s]));
    }

    // –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å —Å—Ä–∞–∑—É –≤–∫–ª–∞–¥–∫—É about —á–µ—Ä–µ–∑ #about
    if (location.hash) {
      const id = location.hash.replace("#", "");
      if (document.getElementById(id)) go(id);
    }
  </script>
</body>
</html>
